function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:countries.us.zoom,center:countries.us.center,mapTypeControl:!1,panControl:!1,zoomControl:!0,streetViewControl:!1}),clearTimeout(mapRequestTimeout),infoWindow=new google.maps.InfoWindow({content:document.getElementById("info-content")}),autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["(cities)"],componentRestrictions:countryRestrict}),places=new google.maps.places.PlacesService(map),autocomplete.addListener("place_changed",onPlaceChanged),document.getElementById("country").addEventListener("change",setAutocompleteCountry)}function onPlaceChanged(){var e=autocomplete.getPlace();e.geometry?(map.panTo(e.geometry.location),map.setZoom(10),search()):document.getElementById("autocomplete").placeholder="Enter a city";var t=new google.maps.FusionTablesLayer({query:{select:"'Geocodable address'",from:"1LvP5-t6UEtcj_KCBlIbi1Hvs2H8MY-PQfikWfuFC"}});t.setMap(map)}function search(){var e={bounds:map.getBounds(),keyword:"boat ramp",radius:3e3};places.nearbySearch(e,function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){clearResults(),clearMarkers();for(var n=0;n<e.length;n++){var o=String.fromCharCode("A".charCodeAt(0)+n),a=MARKER_PATH+o+".png";markers[n]=new google.maps.Marker({position:e[n].geometry.location,animation:google.maps.Animation.DROP,icon:a}),markers[n].placeResult=e[n],google.maps.event.addListener(markers[n],"click",showInfoWindow),setTimeout(dropMarker(n),100*n),addResult(e[n],n)}}})}function clearMarkers(){for(var e=0;e<markers.length;e++)markers[e]&&markers[e].setMap(null);markers=[]}function setAutocompleteCountry(){var e=document.getElementById("country").value;"all"==e?(autocomplete.setComponentRestrictions([]),map.setCenter({lat:15,lng:0}),map.setZoom(2)):(autocomplete.setComponentRestrictions({country:e}),map.setCenter(countries[e].center),map.setZoom(countries[e].zoom)),clearResults(),clearMarkers()}function dropMarker(e){return function(){markers[e].setMap(map)}}function addResult(e,t){var n=document.getElementById("results"),o=String.fromCharCode("A".charCodeAt(0)+t),a=MARKER_PATH+o+".png",r=document.createElement("tr");r.style.backgroundColor=t%2===0?"#F0F0F0":"#FFFFFF",r.onclick=function(){google.maps.event.trigger(markers[t],"click")};var l=document.createElement("td"),c=document.createElement("td"),s=document.createElement("img");s.src=a,s.setAttribute("class","placeIcon"),s.setAttribute("className","placeIcon");var m=document.createTextNode(e.name);l.appendChild(s),c.appendChild(m),r.appendChild(l),r.appendChild(c),n.appendChild(r)}function clearResults(){for(var e=document.getElementById("results");e.childNodes[0];)e.removeChild(e.childNodes[0])}function showInfoWindow(){var e=this;places.getDetails({placeId:e.placeResult.place_id},function(t,n){n===google.maps.places.PlacesServiceStatus.OK&&(infoWindow.open(map,e),buildIWContent(t))})}function buildIWContent(e){if(document.getElementById("iw-icon").innerHTML='<img class="hotelIcon" src="'+e.icon+'"/>',document.getElementById("iw-url").innerHTML='<b><a href="'+e.url+'">'+e.name+"</a></b>",document.getElementById("iw-address").textContent=e.vicinity,e.formatted_phone_number?(document.getElementById("iw-phone-row").style.display="",document.getElementById("iw-phone").textContent=e.formatted_phone_number):document.getElementById("iw-phone-row").style.display="none",e.rating)for(var t="",n=0;5>n;n++)t+=e.rating<n+.5?"&#10025;":"&#10029;",document.getElementById("iw-rating-row").style.display="",document.getElementById("iw-rating").innerHTML=t;else document.getElementById("iw-rating-row").style.display="none";if(e.website){var o=e.website,a=hostnameRegexp.exec(e.website);null===a&&(a="http://"+e.website+"/",o=a),document.getElementById("iw-website-row").style.display="",document.getElementById("iw-website").textContent=a}else document.getElementById("iw-website-row").style.display="none"}var map,places,infoWindow,markers=[],autocomplete,countryRestrict={country:"us"},MARKER_PATH="https://maps.gstatic.com/intl/en_us/mapfiles/marker_green",hostnameRegexp=new RegExp("^https?://.+?/"),countries={au:{center:{lat:-25.3,lng:133.8},zoom:4},br:{center:{lat:-14.2,lng:-51.9},zoom:3},ca:{center:{lat:62,lng:-110},zoom:3},fr:{center:{lat:46.2,lng:2.2},zoom:5},de:{center:{lat:51.2,lng:10.4},zoom:5},mx:{center:{lat:23.6,lng:-102.5},zoom:4},nz:{center:{lat:-40.9,lng:174.9},zoom:5},it:{center:{lat:41.9,lng:12.6},zoom:5},za:{center:{lat:-30.6,lng:22.9},zoom:5},es:{center:{lat:40.5,lng:-3.7},zoom:5},pt:{center:{lat:39.4,lng:-8.2},zoom:6},us:{center:{lat:37.1,lng:-95.7},zoom:3},uk:{center:{lat:54.8,lng:-4.6},zoom:5}},mapRequestTimeout=setTimeout(function(){$("#map").html(" Trouble loading Google Maps. Please refresh your browser and try again.")},8e3);